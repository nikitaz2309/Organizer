{"ast":null,"code":"var _jsxFileName = \"/Users/nikitos/Desktop/ALGORITM/ALL ABOUT REACT/ORGANIZER/bootcamp-m4-starter/src/pages/MainPage/MainPage.js\";\nimport React, { Component } from 'react';\nimport './MainPage.css';\nimport Header from '../../components/Header/Header';\nimport SearchBox from '../../components/SearchBox/SearchBox';\nimport Movies from '../../components/Movies/Movies';\nimport Favorites from '../../components/Favorites/Favorites';\n\nclass MainPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movies: [],\n      favorites: []\n    };\n\n    this.loadList = async query => {\n      const response = await fetch(`http://www.omdbapi.com/?s=${query}&apikey=d1b7a5cd`);\n      const apis = await response.json();\n      this.setState({\n        movies: apis.Search\n      });\n    };\n\n    this.addFilmToFavorites = item => {\n      const newFavorites = [...this.state.favorites];\n      const isNew = true;\n      newFavorites.forEach(favorite => {\n        if (favorite.imdbID === item.imdbID) {\n          isNew = false;\n        }\n      });\n\n      if (isNew === true) {\n        newFavorites = [];\n      }\n\n      this.setState({\n        favorites: newFavorites\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      className: \"main-page__content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"main-page__main-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-page__search-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SearchBox, {\n      handler: this.loadList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-page__movies\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Movies, {\n      movies: this.state.movies,\n      addTo: this.addFilmToFavorites,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"aside\", {\n      className: \"main-page__favorites\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Favorites, {\n      favorites: this.state.favorites,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nexport default MainPage;","map":{"version":3,"sources":["/Users/nikitos/Desktop/ALGORITM/ALL ABOUT REACT/ORGANIZER/bootcamp-m4-starter/src/pages/MainPage/MainPage.js"],"names":["React","Component","Header","SearchBox","Movies","Favorites","MainPage","state","movies","favorites","loadList","query","response","fetch","apis","json","setState","Search","addFilmToFavorites","item","newFavorites","isNew","forEach","favorite","imdbID","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,gBAAP;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;;AAEA,MAAMC,QAAN,SAAuBL,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAE7BM,KAF6B,GAErB;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,SAAS,EAAE;AAFP,KAFqB;;AAAA,SAO7BC,QAP6B,GAOlB,MAAOC,KAAP,IAAiB;AACxB,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CACvB,6BAA4BF,KAAM,kBADX,CAA5B;AAGA,YAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,WAAKC,QAAL,CAAc;AAAER,QAAAA,MAAM,EAAEM,IAAI,CAACG;AAAf,OAAd;AACH,KAb4B;;AAAA,SAgB7BC,kBAhB6B,GAgBPC,IAAD,IAAU;AAE3B,YAAMC,YAAY,GAAG,CAAC,GAAG,KAAKb,KAAL,CAAWE,SAAf,CAArB;AACA,YAAMY,KAAK,GAAG,IAAd;AACAD,MAAAA,YAAY,CAACE,OAAb,CAAsBC,QAAD,IAAc;AAC/B,YAAIA,QAAQ,CAACC,MAAT,KAAoBL,IAAI,CAACK,MAA7B,EAAqC;AACjCH,UAAAA,KAAK,GAAG,KAAR;AACH;AACJ,OAJD;;AAKA,UAAIA,KAAK,KAAK,IAAd,EAAoB;AAChBD,QAAAA,YAAY,GAAG,EAAf;AACH;;AAID,WAAKJ,QAAL,CAAc;AAAEP,QAAAA,SAAS,EAAEW;AAAb,OAAd;AACH,KAhC4B;AAAA;;AAkC7BK,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAM,MAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAS,MAAA,SAAS,EAAC,yBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAW,MAAA,OAAO,EAAE,KAAKf,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAII;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAE,KAAKH,KAAL,CAAWC,MAA3B;AAAmC,MAAA,KAAK,EAAE,KAAKU,kBAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CADJ,eASI;AAAO,MAAA,SAAS,EAAC,sBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAE,KAAKX,KAAL,CAAWE,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CATJ,CAFJ,CADJ;AAkBH;;AArD4B;;AAwDjC,eAAeH,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport './MainPage.css';\nimport Header from '../../components/Header/Header';\nimport SearchBox from '../../components/SearchBox/SearchBox';\nimport Movies from '../../components/Movies/Movies';\nimport Favorites from '../../components/Favorites/Favorites';\n\nclass MainPage extends Component {\n\n    state = {\n        movies: [],\n        favorites: []\n    }\n    \n    loadList = async (query) => {\n        const response = await fetch (\n            `http://www.omdbapi.com/?s=${query}&apikey=d1b7a5cd`\n        );\n        const apis = await response.json()\n        this.setState({ movies: apis.Search})\n    };\n\n\n    addFilmToFavorites = (item) => {\n\n        const newFavorites = [...this.state.favorites]\n        const isNew = true;\n        newFavorites.forEach((favorite) => {\n            if (favorite.imdbID === item.imdbID) {\n                isNew = false\n            }\n        })\n        if (isNew === true) {\n            newFavorites = []\n        }\n\n\n\n        this.setState({ favorites: newFavorites })\n    }\n\n    render() { \n        return (\n            <div className=\"main-page\">\n                <Header />\n                <main className=\"main-page__content\">\n                    <section className=\"main-page__main-section\">\n                        <div className=\"main-page__search-box\">\n                            <SearchBox handler={this.loadList}/>\n                        </div>\n                        <div className=\"main-page__movies\">\n                            <Movies movies={this.state.movies} addTo={this.addFilmToFavorites}/>\n                        </div>\n                    </section>\n                    <aside className=\"main-page__favorites\">\n                        <Favorites favorites={this.state.favorites}/>\n                    </aside>\n                </main>\n            </div>\n        );\n    }\n}\n \nexport default MainPage;"]},"metadata":{},"sourceType":"module"}